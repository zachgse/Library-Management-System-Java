<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<div th:include="import/header :: header-content"></div>
	<title>Books</title>
</head>
<body>

<div th:include="import/navbar :: navbar-content"></div>	
	
<section class="d-flex justify-content-center"> 
	<div>
		<div class="d-flex justify-content-between my-5">
			<div>
				<h4>List of Books</h4>
			</div>
			<div>
				<a th:href = "@{/books/create}" class = "btn btn-success"> Add Books</a>
			</div>
		</div>
		
	    <div th:if="${successMessage}" class="alert alert-success">
	        <p th:text="${successMessage}"></p>
	    </div>
			
		<table class = "table table-responsive">
			<thead>
				<tr>
					<th>No.</th>
					<th>Title</th>
					<th>Genre</th>
					<th>Author</th>
					<th>Status</th>
					<th>Actions</th>
				</tr>
			</thead>
			
			<tbody>
				<tr th:each = "book, iteration: ${books}">
					<td th:text= "${iteration.count}"></td>
					<td th:text = "${book.name}"></td>
					<td th:text = "${book.genre}"></td>
					<td th:text = "${book.author}"></td>
					<td th:text = "${book.status} == true ? 'Available' : 'Not Available' "></td>
					<td>
						<span>
							<a th:href="@{/books/edit/{id}(id = ${book.id})}" class="btn btn-primary">Edit</a>
						</span>
						<span>
							<a th:href="@{/books/status/{id}(id = ${book.id})}" class="btn btn-primary">Update Status</a>
						</span>
					</td>
				</tr>
			</tbody>
		
		</table>
	</div>
	
</section>
	

</body>
</html>